{"code":"!function(e){function t(t){for(var n,s,o=t[0],u=t[1],l=t[2],c=0,d=[];c<o.length;c++)s=o[c],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(h&&h(t);d.length;)d.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var u=i[o];0!==r[u]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={0:0},a=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\";var o=window.webpackJsonp=window.webpackJsonp||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var h=u;a.push([40,2]),i()}({40:function(e,t,i){e.exports=i(41)},41:function(e,t,i){\"use strict\";var n=a(i(42)),r=a(i(43));function a(e){return e&&e.__esModule?e:{default:e}}(0,n.default)((function(){window.app=new r.default,window.app.init()}))},43:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=s(i(44)),r=s(i(57));i(80);var a=s(i(81));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,i,s;return t=e,(i=[{key:\"init\",value:function(){this.initWebGL(),this.initGUI(),this.addListeners(),this.animate(),this.resize()}},{key:\"initWebGL\",value:function(){this.webgl=new n.default(this),document.querySelector(\".container\").appendChild(this.webgl.renderer.domElement)}},{key:\"initGUI\",value:function(){this.gui=new r.default(this)}},{key:\"addListeners\",value:function(){this.handlerAnimate=this.animate.bind(this),window.addEventListener(\"resize\",this.resize.bind(this)),window.addEventListener(\"keyup\",this.keyup.bind(this)),this.webgl.renderer.domElement.addEventListener(\"click\",this.click.bind(this)),o(document.querySelectorAll(\"svg.svgtext\")).forEach((function(e){return new a.default(e)}))}},{key:\"animate\",value:function(){this.update(),this.draw(),this.raf=requestAnimationFrame(this.handlerAnimate)}},{key:\"update\",value:function(){this.gui.stats&&this.gui.stats.begin(),this.webgl&&this.webgl.update(),this.gui&&this.gui.update()}},{key:\"draw\",value:function(){this.webgl&&this.webgl.draw(),this.gui.stats&&this.gui.stats.end()}},{key:\"resize\",value:function(){this.webgl&&this.webgl.resize()}},{key:\"keyup\",value:function(e){71==e.keyCode&&this.gui&&this.gui.toggle()}},{key:\"click\",value:function(e){this.webgl.next()}}])&&u(t.prototype,i),s&&u(t,s),e}();t.default=l},44:function(e,t,i){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,i(11);i(86);var n=a(i(47)),r=a(i(52));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i(25);var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.app=e,this.samples=[\"images/sample-01.png\",\"images/sample-02.png\"],this.initThree(),this.initParticles(),this.initControls();var i=~~(Math.random()*this.samples.length);this.goto(i)}var i,a,o;return i=t,(a=[{key:\"initThree\",value:function(){this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=300,this.renderer=new e.WebGLRenderer({antialias:!0,alpha:!0}),this.clock=new e.Clock(!0)}},{key:\"initControls\",value:function(){this.interactive=new n.default(this.camera,this.renderer.domElement)}},{key:\"initParticles\",value:function(){this.particles=new r.default(this),this.scene.add(this.particles.container)}},{key:\"update\",value:function(){var e=this.clock.getDelta();this.particles&&this.particles.update(e)}},{key:\"draw\",value:function(){this.renderer.render(this.scene,this.camera)}},{key:\"goto\",value:function(e){var t=this;null==this.currSample?this.particles.init(this.samples[e]):this.particles.hide(!0).then((function(){t.particles.init(t.samples[e])})),this.currSample=e}},{key:\"next\",value:function(){this.currSample<this.samples.length-1?this.goto(this.currSample+1):this.goto(0)}},{key:\"resize\",value:function(){this.renderer&&(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.fovHeight=2*Math.tan(this.camera.fov*Math.PI/180/2)*this.camera.position.z,this.renderer.setSize(window.innerWidth,window.innerHeight),this.interactive&&this.interactive.resize(),this.particles&&this.particles.resize())}}])&&s(i.prototype,a),o&&s(i,o),t}();t.default=o}).call(this,i(11))},47:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=o(i(48)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i(11)),a=o(i(49)),s=i(51);function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(e,t){return!t||\"object\"!==u(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e,i){var n;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(n=l(this,h(t).call(this))).camera=e,n.el=i||window,n.plane=new r.Plane,n.raycaster=new r.Raycaster,n.mouse=new r.Vector2,n.offset=new r.Vector3,n.intersection=new r.Vector3,n.objects=[],n.hovered=null,n.selected=null,n.isDown=!1,n.browser=(0,a.default)(),n.enable(),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),d(t,[{key:\"enabled\",get:function(){return this._enabled}}]),d(t,[{key:\"enable\",value:function(){this.enabled||(this.addListeners(),this._enabled=!0)}},{key:\"disable\",value:function(){this.enabled&&(this.removeListeners(),this._enabled=!1)}},{key:\"addListeners\",value:function(){this.handlerDown=this.onDown.bind(this),this.handlerMove=this.onMove.bind(this),this.handlerUp=this.onUp.bind(this),this.handlerLeave=this.onLeave.bind(this),this.browser.mobile?(this.el.addEventListener(\"touchstart\",this.handlerDown,s.passiveEvent),this.el.addEventListener(\"touchmove\",this.handlerMove,s.passiveEvent),this.el.addEventListener(\"touchend\",this.handlerUp,s.passiveEvent)):(this.el.addEventListener(\"mousedown\",this.handlerDown),this.el.addEventListener(\"mousemove\",this.handlerMove),this.el.addEventListener(\"mouseup\",this.handlerUp),this.el.addEventListener(\"mouseleave\",this.handlerLeave))}},{key:\"removeListeners\",value:function(){this.browser.mobile?(this.el.removeEventListener(\"touchstart\",this.handlerDown),this.el.removeEventListener(\"touchmove\",this.handlerMove),this.el.removeEventListener(\"touchend\",this.handlerUp)):(this.el.removeEventListener(\"mousedown\",this.handlerDown),this.el.removeEventListener(\"mousemove\",this.handlerMove),this.el.removeEventListener(\"mouseup\",this.handlerUp),this.el.removeEventListener(\"mouseleave\",this.handlerLeave))}},{key:\"resize\",value:function(e,t,i,n){e||t||i||n?this.rect={x:e,y:t,width:i,height:n}:this.el===window?this.rect={x:0,y:0,width:window.innerWidth,height:window.innerHeight}:this.rect=this.el.getBoundingClientRect()}},{key:\"onMove\",value:function(e){var t=e.touches?e.touches[0]:e,i=t.clientX,n=t.clientY;this.mouse.x=(i+this.rect.x)/this.rect.width*2-1,this.mouse.y=-(n+this.rect.y)/this.rect.height*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var r=this.raycaster.intersectObjects(this.objects);if(r.length>0){var a=r[0].object;this.intersectionData=r[0],this.plane.setFromNormalAndCoplanarPoint(this.camera.getWorldDirection(this.plane.normal),a.position),this.hovered!==a?(this.emit(\"interactive-out\",{object:this.hovered}),this.emit(\"interactive-over\",{object:a}),this.hovered=a):this.emit(\"interactive-move\",{object:a,intersectionData:this.intersectionData})}else this.intersectionData=null,null!==this.hovered&&(this.emit(\"interactive-out\",{object:this.hovered}),this.hovered=null)}},{key:\"onDown\",value:function(e){this.isDown=!0,this.onMove(e),this.emit(\"interactive-down\",{object:this.hovered,previous:this.selected,intersectionData:this.intersectionData}),this.selected=this.hovered,this.selected&&this.raycaster.ray.intersectPlane(this.plane,this.intersection)&&this.offset.copy(this.intersection).sub(this.selected.position)}},{key:\"onUp\",value:function(e){this.isDown=!1,this.emit(\"interactive-up\",{object:this.hovered})}},{key:\"onLeave\",value:function(e){this.onUp(e),this.emit(\"interactive-out\",{object:this.hovered}),this.hovered=null}}]),t}(n.default);t.default=v},51:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.passiveEvent=void 0;var n=!1,r=!1;t.passiveEvent=function(){return!!function(){if(n)return r;n=!0;try{var e=Object.defineProperty({},\"passive\",{get:function(){r=!0}});window.addEventListener(\"test\",null,e)}catch(e){return r}return window.removeEventListener(\"test\",null,opts),r}()&&{passive:!0}}},52:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i(11)),a=(n=i(53))&&n.__esModule?n:{default:n};function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=i(25),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.webgl=t,this.container=new r.Object3D}var t,n,u;return t=e,(n=[{key:\"init\",value:function(e){var t=this;(new r.TextureLoader).load(e,(function(e){t.texture=e,t.texture.minFilter=r.LinearFilter,t.texture.magFilter=r.LinearFilter,t.texture.format=r.RGBFormat,t.width=e.image.width,t.height=e.image.height,t.initPoints(!0),t.initHitArea(),t.initTouch(),t.resize(),t.show()}))}},{key:\"initPoints\",value:function(e){this.numPoints=this.width*this.height;var t,n=this.numPoints,a=0;if(e){n=0,a=34;var s=this.texture.image,u=document.createElement(\"canvas\"),l=u.getContext(\"2d\");u.width=this.width,u.height=this.height,l.scale(1,-1),l.drawImage(s,0,0,this.width,-1*this.height);var h=l.getImageData(0,0,u.width,u.height);t=Float32Array.from(h.data);for(var c=0;c<this.numPoints;c++)t[4*c+0]>a&&n++}var d={uTime:{value:0},uRandom:{value:1},uDepth:{value:2},uSize:{value:0},uTextureSize:{value:new r.Vector2(this.width,this.height)},uTexture:{value:this.texture},uTouch:{value:null}},f=new r.RawShaderMaterial({uniforms:d,vertexShader:o(i(55)),fragmentShader:o(i(56)),depthTest:!1,transparent:!0}),v=new r.InstancedBufferGeometry,p=new r.BufferAttribute(new Float32Array(12),3);p.setXYZ(0,-.5,.5,0),p.setXYZ(1,.5,.5,0),p.setXYZ(2,-.5,-.5,0),p.setXYZ(3,.5,-.5,0),v.addAttribute(\"position\",p);var m=new r.BufferAttribute(new Float32Array(8),2);m.setXYZ(0,0,0),m.setXYZ(1,1,0),m.setXYZ(2,0,1),m.setXYZ(3,1,1),v.addAttribute(\"uv\",m),v.setIndex(new r.BufferAttribute(new Uint16Array([0,2,1,2,3,1]),1));for(var b=new Uint16Array(n),y=new Float32Array(3*n),g=new Float32Array(n),w=0,x=0;w<this.numPoints;w++)e&&t[4*w+0]<=a||(y[3*x+0]=w%this.width,y[3*x+1]=Math.floor(w/this.width),b[x]=w,g[x]=Math.random()*Math.PI,x++);v.addAttribute(\"pindex\",new r.InstancedBufferAttribute(b,1,!1)),v.addAttribute(\"offset\",new r.InstancedBufferAttribute(y,3,!1)),v.addAttribute(\"angle\",new r.InstancedBufferAttribute(g,1,!1)),this.object3D=new r.Mesh(v,f),this.container.add(this.object3D)}},{key:\"initTouch\",value:function(){this.touch||(this.touch=new a.default(this)),this.object3D.material.uniforms.uTouch.value=this.touch.texture}},{key:\"initHitArea\",value:function(){var e=new r.PlaneGeometry(this.width,this.height,1,1),t=new r.MeshBasicMaterial({color:16777215,wireframe:!0,depthTest:!1});t.visible=!1,this.hitArea=new r.Mesh(e,t),this.container.add(this.hitArea)}},{key:\"addListeners\",value:function(){this.handlerInteractiveMove=this.onInteractiveMove.bind(this),this.webgl.interactive.addListener(\"interactive-move\",this.handlerInteractiveMove),this.webgl.interactive.objects.push(this.hitArea),this.webgl.interactive.enable()}},{key:\"removeListeners\",value:function(){var e=this;this.webgl.interactive.removeListener(\"interactive-move\",this.handlerInteractiveMove);var t=this.webgl.interactive.objects.findIndex((function(t){return t===e.hitArea}));this.webgl.interactive.objects.splice(t,1),this.webgl.interactive.disable()}},{key:\"update\",value:function(e){this.object3D&&(this.touch&&this.touch.update(),this.object3D.material.uniforms.uTime.value+=e)}},{key:\"show\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;TweenLite.fromTo(this.object3D.material.uniforms.uSize,e,{value:.5},{value:1.5}),TweenLite.to(this.object3D.material.uniforms.uRandom,e,{value:2}),TweenLite.fromTo(this.object3D.material.uniforms.uDepth,1.5*e,{value:40},{value:4}),this.addListeners()}},{key:\"hide\",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;return new Promise((function(n,r){TweenLite.to(t.object3D.material.uniforms.uRandom,i,{value:5,onComplete:function(){e&&t.destroy(),n()}}),TweenLite.to(t.object3D.material.uniforms.uDepth,i,{value:-20,ease:Quad.easeIn}),TweenLite.to(t.object3D.material.uniforms.uSize,.8*i,{value:0}),t.removeListeners()}))}},{key:\"destroy\",value:function(){this.object3D&&(this.object3D.parent.remove(this.object3D),this.object3D.geometry.dispose(),this.object3D.material.dispose(),this.object3D=null,this.hitArea&&(this.hitArea.parent.remove(this.hitArea),this.hitArea.geometry.dispose(),this.hitArea.material.dispose(),this.hitArea=null))}},{key:\"resize\",value:function(){if(this.object3D){var e=this.webgl.fovHeight/this.height;this.object3D.scale.set(e,e,1),this.hitArea.scale.set(e,e,1)}}},{key:\"onInteractiveMove\",value:function(e){var t=e.intersectionData.uv;this.touch&&this.touch.addTouch(t)}}])&&s(t.prototype,n),u&&s(t,u),e}();t.default=u},53:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i(11)),r=i(54);function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.parent=t,this.size=64,this.maxAge=120,this.radius=.15,this.trail=[],this.initTexture()}var t,i,s;return t=e,(i=[{key:\"initTexture\",value:function(){this.canvas=document.createElement(\"canvas\"),this.canvas.width=this.canvas.height=this.size,this.ctx=this.canvas.getContext(\"2d\"),this.ctx.fillStyle=\"black\",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.texture=new n.Texture(this.canvas),this.canvas.id=\"touchTexture\",this.canvas.style.width=this.canvas.style.height=\"\".concat(this.canvas.width,\"px\")}},{key:\"update\",value:function(e){var t=this;this.clear(),this.trail.forEach((function(e,i){e.age++,e.age>t.maxAge&&t.trail.splice(i,1)})),this.trail.forEach((function(e,i){t.drawTouch(e)})),this.texture.needsUpdate=!0}},{key:\"clear\",value:function(){this.ctx.fillStyle=\"black\",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:\"addTouch\",value:function(e){var t=0,i=this.trail[this.trail.length-1];if(i){var n=i.x-e.x,r=i.y-e.y,a=n*n+r*r;t=Math.min(1e4*a,1)}this.trail.push({x:e.x,y:e.y,age:0,force:t})}},{key:\"drawTouch\",value:function(e){var t={x:e.x*this.size,y:(1-e.y)*this.size},i=1;i=e.age<.3*this.maxAge?(0,r.easeOutSine)(e.age/(.3*this.maxAge),0,1,1):(0,r.easeOutSine)(1-(e.age-.3*this.maxAge)/(.7*this.maxAge),0,1,1),i*=e.force;var n=this.size*this.radius*i,a=this.ctx.createRadialGradient(t.x,t.y,.25*n,t.x,t.y,n);a.addColorStop(0,\"rgba(255, 255, 255, 0.2)\"),a.addColorStop(1,\"rgba(0, 0, 0, 0.0)\"),this.ctx.beginPath(),this.ctx.fillStyle=a,this.ctx.arc(t.x,t.y,n,0,2*Math.PI),this.ctx.fill()}}])&&a(t.prototype,i),s&&a(t,s),e}();t.default=s},54:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.easeInOutSine=t.easeOutSine=t.easeInSine=t.easeInOutQuart=t.easeInOutQuad=t.easeOutQuad=t.easeInQuad=void 0;t.easeInQuad=function(e,t,i,n){return i*(e/=n)*e+t};t.easeOutQuad=function(e,t,i,n){return-i*(e/=n)*(e-2)+t};t.easeInOutQuad=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t};t.easeInOutQuart=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t};t.easeInSine=function(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t};t.easeOutSine=function(e,t,i,n){return i*Math.sin(e/n*(Math.PI/2))+t};t.easeInOutSine=function(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t}},55:function(e,t){e.exports=\"// @author brunoimbrizi / http://brunoimbrizi.com\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nattribute float pindex;\\nattribute vec3 position;\\nattribute vec3 offset;\\nattribute vec2 uv;\\nattribute float angle;\\n\\nuniform mat4 modelViewMatrix;\\nuniform mat4 projectionMatrix;\\n\\nuniform float uTime;\\nuniform float uRandom;\\nuniform float uDepth;\\nuniform float uSize;\\nuniform vec2 uTextureSize;\\nuniform sampler2D uTexture;\\nuniform sampler2D uTouch;\\n\\nvarying vec2 vPUv;\\nvarying vec2 vUv;\\n\\n//\\n// Description : Array and textureless GLSL 2D simplex noise function.\\n//      Author : Ian McEwan, Ashima Arts.\\n//  Maintainer : ijm\\n//     Lastmod : 20110822 (ijm)\\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\\n//               Distributed under the MIT License. See LICENSE file.\\n//               https://github.com/ashima/webgl-noise\\n//\\n\\nvec3 mod289_1_0(vec3 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec2 mod289_1_0(vec2 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec3 permute_1_1(vec3 x) {\\n  return mod289_1_0(((x*34.0)+1.0)*x);\\n}\\n\\nfloat snoise_1_2(vec2 v)\\n  {\\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\\n                      0.024390243902439); // 1.0 / 41.0\\n// First corner\\n  vec2 i  = floor(v + dot(v, C.yy) );\\n  vec2 x0 = v -   i + dot(i, C.xx);\\n\\n// Other corners\\n  vec2 i1;\\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\\n  //i1.y = 1.0 - i1.x;\\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\\n  // x1 = x0 - i1 + 1.0 * C.xx ;\\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\\n  vec4 x12 = x0.xyxy + C.xxzz;\\n  x12.xy -= i1;\\n\\n// Permutations\\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\\n    + i.x + vec3(0.0, i1.x, 1.0 ));\\n\\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\\n  m = m*m ;\\n  m = m*m ;\\n\\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\\n\\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\\n  vec3 h = abs(x) - 0.5;\\n  vec3 ox = floor(x + 0.5);\\n  vec3 a0 = x - ox;\\n\\n// Normalise gradients implicitly by scaling m\\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\\n\\n// Compute final noise value at P\\n  vec3 g;\\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\\n  return 130.0 * dot(m, g);\\n}\\n\\n\\n\\n\\nfloat random(float n) {\\n\\treturn fract(sin(n) * 43758.5453123);\\n}\\n\\nvoid main() {\\n\\tvUv = uv;\\n\\n\\t// particle uv\\n\\tvec2 puv = offset.xy / uTextureSize;\\n\\tvPUv = puv;\\n\\n\\t// pixel color\\n\\tvec4 colA = texture2D(uTexture, puv);\\n\\tfloat grey = colA.r * 0.60 + colA.g * 0.50 + colA.b * 0.07;\\n\\n\\t// displacement\\n\\tvec3 displaced = offset;\\n\\t// randomise\\n\\tdisplaced.xy += vec2(random(pindex) - 0.5, random(offset.x + pindex) - 0.5) * uRandom;\\n\\tfloat rndz = (random(pindex) + snoise_1_2(vec2(pindex * 0.1, uTime * 0.1)));\\n\\tdisplaced.z += rndz * (random(pindex) * 2.0 * uDepth);\\n\\t// center\\n\\tdisplaced.xy -= uTextureSize * 0.5;\\n\\n\\t// touch\\n\\tfloat t = texture2D(uTouch, puv).r;\\n\\tdisplaced.z += t * 20.0 * rndz;\\n\\tdisplaced.x += cos(angle) * t * 20.0 * rndz;\\n\\tdisplaced.y += sin(angle) * t * 20.0 * rndz;\\n\\n\\t// particle size\\n\\tfloat psize = (snoise_1_2(vec2(uTime, pindex) * 0.2) + 2.0);\\n\\tpsize *= max(grey, 0.9);\\n\\tpsize *= uSize;\\n\\n\\t// final position\\n\\tvec4 mvPosition = modelViewMatrix * vec4(displaced, 1.0);\\n\\tmvPosition.xyz += position * psize;\\n\\tvec4 finalPosition = projectionMatrix * mvPosition;\\n\\n\\tgl_Position = finalPosition;\\n}\\n\"},56:function(e,t){e.exports=\"// @author brunoimbrizi / http://brunoimbrizi.com\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D uTexture;\\n\\nvarying vec2 vPUv;\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\tvec4 color = vec4(0.0);\\n\\tvec2 uv = vUv;\\n\\tvec2 puv = vPUv;\\n\\n\\t// pixel color\\n\\tvec4 colA = texture2D(uTexture, puv);\\n\\n\\t// greyscale\\n\\tfloat grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\\n\\tvec4 colB = vec4(grey, grey, grey, 1.0);\\n\\n\\t// circle\\n\\tfloat border = 0.3;\\n\\tfloat radius = 0.5;\\n\\tfloat dist = radius - distance(uv, vec2(0.5));\\n\\tfloat t = smoothstep(0.0, border, dist);\\n\\n\\t// final color\\n\\tcolor = colB;\\n\\tcolor.a = t;\\n\\n\\tgl_FragColor = color;\\n}\"},57:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(i(58)),r=a(i(79));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.app=t,this.particlesHitArea=!1,this.particlesRandom=2,this.particlesDepth=4,this.particlesSize=1.5,this.touchRadius=.15,this.range=[0,1],this.rangeRandom=[1,10],this.rangeSize=[0,3],this.rangeDepth=[1,10],this.rangeRadius=[0,.5],this.initControlKit()}var t,i,a;return t=e,(i=[{key:\"initControlKit\",value:function(){this.controlKit=new n.default,this.controlKit.addPanel({width:300,enable:!1}).addGroup({label:\"Touch\",enable:!0}).addCanvas({label:\"trail\",height:64}).addSlider(this,\"touchRadius\",\"rangeRadius\",{label:\"radius\",onChange:this.onTouchChange.bind(this)}).addGroup({label:\"Particles\",enable:!0}).addSlider(this,\"particlesRandom\",\"rangeRandom\",{label:\"random\",onChange:this.onParticlesChange.bind(this)}).addSlider(this,\"particlesDepth\",\"rangeDepth\",{label:\"depth\",onChange:this.onParticlesChange.bind(this)}).addSlider(this,\"particlesSize\",\"rangeSize\",{label:\"size\",onChange:this.onParticlesChange.bind(this)});var e=this.controlKit.getComponentBy({label:\"trail\"});e&&(this.touchCanvas=e._canvas,this.touchCtx=this.touchCanvas.getContext(\"2d\"))}},{key:\"initStats\",value:function(){this.stats=new r.default,document.body.appendChild(this.stats.dom)}},{key:\"update\",value:function(){if(this.touchCanvas){if(!this.app.webgl)return;if(!this.app.webgl.particles)return;if(!this.app.webgl.particles.touch)return;var e=this.app.webgl.particles.touch.canvas,t=Math.floor(.5*(this.touchCanvas.width-e.width));this.touchCtx.fillRect(0,0,this.touchCanvas.width,this.touchCanvas.height),this.touchCtx.drawImage(e,t,0)}}},{key:\"enable\",value:function(){this.controlKit.enable(),this.stats&&(this.stats.dom.style.display=\"\")}},{key:\"disable\",value:function(){this.controlKit.disable(),this.stats&&(this.stats.dom.style.display=\"none\")}},{key:\"toggle\",value:function(){this.controlKit._enabled?this.disable():this.enable()}},{key:\"onTouchChange\",value:function(){this.app.webgl&&this.app.webgl.particles&&(this.app.webgl.particles.touch.radius=this.touchRadius)}},{key:\"onParticlesChange\",value:function(){this.app.webgl&&this.app.webgl.particles&&(this.app.webgl.particles.object3D.material.uniforms.uRandom.value=this.particlesRandom,this.app.webgl.particles.object3D.material.uniforms.uDepth.value=this.particlesDepth,this.app.webgl.particles.object3D.material.uniforms.uSize.value=this.particlesSize,this.app.webgl.particles.hitArea.material.visible=this.particlesHitArea)}},{key:\"onPostProcessingChange\",value:function(){this.app.webgl.composer&&(this.app.webgl.composer.enabled=this.postProcessing)}}])&&s(t.prototype,i),a&&s(t,a),e}();t.default=o},81:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n,r=i(82),a=(n=i(83))&&n.__esModule?n:{default:n};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}var l=navigator.userAgent.indexOf(\"Firefox\")>-1,h=function(){function e(t){var i=this;s(this,e),this.DOM={svg:t},this.DOM.text=this.DOM.svg.querySelector(\"text\"),l&&this.DOM.text.removeAttribute(\"filter\"),this.DOM.textPath=this.DOM.text.querySelector(\"textPath\");var n=this.DOM.svg.dataset.filterType,r=this.DOM.text.getAttribute(\"filter\")&&this.DOM.text.getAttribute(\"filter\").match(/url\\([\"']?([^\"']*)[\"']?\\)/)[1];this.filterPrimitive=n&&r&&new c(n,r),this.pathLength=this.DOM.svg.querySelector(\"path\").getTotalLength(),this.svgRect=this.DOM.svg.getBoundingClientRect(),this.positionY=this.svgRect.top+window.pageYOffset,window.addEventListener(\"resize\",(function(){i.svgRect=i.DOM.svg.getBoundingClientRect(),i.positionY=i.svgRect.top+window.pageYOffset})),this.startOffset={value:this.computeOffset(),amt:.22},this.startOffset.value=this.computeOffset(),this.updateTextPathOffset(),this.scroll={value:window.pageYOffset,amt:.17},this.observer=new IntersectionObserver((function(e){e.forEach((function(e){i.isVisible=e.intersectionRatio>0,i.isVisible||(i.entered=!1,i.update())}))})),this.observer.observe(this.DOM.svg),requestAnimationFrame((function(){return i.render()}))}return u(e,[{key:\"computeOffset\",value:function(){return(0,r.map)(this.positionY-window.pageYOffset,a.default.height,0,this.pathLength,-this.pathLength/2)}},{key:\"updateTextPathOffset\",value:function(){this.DOM.textPath.setAttribute(\"startOffset\",this.startOffset.value)}},{key:\"update\",value:function(){var e=this.computeOffset();this.startOffset.value=this.entered?(0,r.lerp)(this.startOffset.value,e,this.startOffset.amt):e,this.updateTextPathOffset();var t=window.pageYOffset;this.scroll.value=this.entered?(0,r.lerp)(this.scroll.value,t,this.scroll.amt):t;var i=Math.abs(this.scroll.value-t);this.filterPrimitive&&this.filterPrimitive.update(i),this.entered||(this.entered=!0)}},{key:\"render\",value:function(){var e=this;this.isVisible&&this.update(),requestAnimationFrame((function(){return e.render()}))}}]),e}();t.default=h;var c=function(){function e(t,i){s(this,e),this.type=t,this.DOM={el:document.querySelector(\"\".concat(i,\" > \").concat(this.getPrimitiveType(this.type)))}}return u(e,[{key:\"getPrimitiveType\",value:function(e){return{blur:\"feGaussianBlur\",distortion:\"feDisplacementMap\"}[e]}},{key:\"update\",value:function(e){var t=this;return{blur:function(){return t.DOM.el.setAttribute(\"stdDeviation\",(0,r.clamp)((0,r.map)(e,0,400,t.DOM.el.dataset.minDeviation||0,t.DOM.el.dataset.maxDeviation||10),t.DOM.el.dataset.minDeviation||0,t.DOM.el.dataset.maxDeviation||10))},distortion:function(){return t.DOM.el.scale.baseVal=(0,r.clamp)((0,r.map)(e,0,200,t.DOM.el.dataset.minScale||0,t.DOM.el.dataset.maxScale||100),t.DOM.el.dataset.minScale||0,t.DOM.el.dataset.maxScale||100)}}[this.type]()}}]),e}()},82:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getMousePos=t.calcWinsize=t.clamp=t.lerp=t.map=void 0;t.map=function(e,t,i,n,r){return(e-t)*(r-n)/(i-t)+n};t.lerp=function(e,t,i){return(1-i)*e+i*t};t.clamp=function(e,t,i){return Math.max(Math.min(e,i),t)};t.calcWinsize=function(){return{width:window.innerWidth,height:window.innerHeight}};t.getMousePos=function(e){var t=0,i=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+body.scrollTop+document.documentElement.scrollTop),{x:t,y:i}}},83:function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=function(){return{width:window.innerWidth,height:window.innerHeight}},r=n();window.addEventListener(\"resize\",(function(){return r=n()}));var a=r;t.default=a}});","extractedComments":[]}